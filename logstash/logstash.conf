# input
# {
#   tcp
#   {
#     port => 4560
#     codec => json_lines
#     tags => ["tcp"]
#   }
# }

# filter {
#   if [tags][json] {
#     json {
#       source => "message"
#     }
#   }
# }

# output {
#   elasticsearch {
#     hosts => ["elasticsearch:9200"]
#     manage_template => false
#     index => "%{appName}-%{+YYYY.MM.dd}"
#     document_type => "appLogs"
#   }
# }

input
{
  gelf {}
}

filter {
  json {
    source => "short_message"
    remove_field => "short_message"
  }
}

output {
  elasticsearch {
    hosts => "elasticsearch:9200"
  }
}
